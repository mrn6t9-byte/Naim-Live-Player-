<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MN NAIM MULTI LIVE</title>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
/* ===== Body & Animated Background ===== */
body{
  margin:0;
  font-family:'Lucida Console', monospace;
  text-align:center;
  color:#fff;
  overflow-x:hidden;
  background: linear-gradient(135deg, #003300 0%, #330000 100%);
  background-size:400% 400%;
  animation:bgAnim 20s ease infinite;
  position:relative;
}
body::before{
  content:'';
  position:fixed;
  top:0; left:0; width:200%; height:200%;
  background:repeating-linear-gradient(45deg, rgba(0,255,0,0.08), rgba(0,255,0,0.08) 2px, rgba(255,0,0,0.08) 4px, rgba(255,0,0,0.08) 6px);
  animation:moveLines 10s linear infinite;
  z-index:-1;
}
.particle{position:absolute;width:4px;height:4px;border-radius:50%;opacity:0.7;animation:float 15s linear infinite;}
@keyframes float{0%{transform:translateY(0) translateX(0);}100%{transform:translateY(-1200px) translateX(600px);}}
@keyframes bgAnim{0%{background-position:0% 0%;}50%{background-position:100% 100%;}100%{background-position:0% 0%;}}
@keyframes moveLines{0%{transform:translate(0,0);}100%{transform:translate(-100px,-100px);}}

/* ===== Header ===== */
.header{
  background:#002200;
  padding:16px;
  font-weight:700;
  font-size:24px;
  letter-spacing:1px;
  color:#00ff00;
  text-shadow:0 0 10px #ff0000,0 0 20px #00ff00;
  animation:pulse 2s infinite;
}
@keyframes pulse{0%{text-shadow:0 0 5px #ff0000,0 0 10px #00ff00;}50%{text-shadow:0 0 15px #ff0000,0 0 25px #00ff00;}100%{text-shadow:0 0 5px #ff0000,0 0 10px #00ff00;}}

/* ===== Sections ===== */
.section{display:none;padding:10px;}

/* ===== Scrollable Match List ===== */
.match-list{
  max-height:300px;
  overflow-y:auto;
  padding:10px;
}
.match-list::-webkit-scrollbar{width:8px;}
.match-list::-webkit-scrollbar-thumb{background:#ff0000;border-radius:4px;}
.match-list::-webkit-scrollbar-track{background:#001100;}

/* ===== Match Buttons ===== */
.btn-match{
  background:#ff0000;
  color:#00ff00;
  margin:10px auto;
  width:90%;
  display:block;
  padding:14px;
  border:none;
  border-radius:50px;
  font-weight:700;
  cursor:pointer;
  box-shadow:0 0 12px #ff0000,0 0 20px #00ff00 inset;
  transition:0.3s;
}
.btn-match:hover{transform:scale(1.05);box-shadow:0 0 20px #ff0000,0 0 25px #00ff00 inset;}

/* ===== Input Boxes ===== */
.input-box{
  width:80%;
  margin:10px auto;
  display:block;
  padding:12px;
  border-radius:10px;
  border:none;
  background:#001100;
  color:#00ff00;
  font-weight:700;
  text-align:center;
}

/* ===== Player ===== */
.player-box{
  max-width:520px;
  margin:25px auto;
  background:#000;
  border-radius:18px;
  overflow:hidden;
  position:relative;
  border:4px solid;
  border-image: linear-gradient(45deg, #ff0000, #00ff00) 1;
  box-shadow:0 0 35px #ff0000 inset,0 0 35px #00ff00 inset;
}

/* ===== Video & iframe ===== */
video, iframe{
  width:100%;
  height:300px;
  border-radius:16px;
  background:#111;
  box-shadow:0 0 15px #ff0000 inset,0 0 15px #00ff00 inset;
}

/* ===== Loading Spinner ===== */
.spinner{
  position:absolute;
  top:50%; left:50%;
  transform:translate(-50%,-50%);
  border:6px solid #111;
  border-top:6px solid #00ff00;
  border-radius:50%;
  width:50px; height:50px;
  animation:spin 1s linear infinite;
  display:none;
  z-index:10;
}
@keyframes spin{100%{transform:rotate(360deg);}}

/* ===== Match Name ===== */
.match-name{
  text-align:center;
  margin-top:15px;
  font-weight:700;
  font-size:26px;
  color:#00ff00;
  background:#220000;
  padding:10px 0;
  border-radius:12px;
  max-width:340px;
  margin-left:auto;
  margin-right:auto;
  box-shadow:0 0 15px #00ff00,0 0 25px #ff0000 inset;
  animation:pulse 2s infinite;
}

/* ===== Control Buttons ===== */
.controls{
  display:flex;
  justify-content:center;
  margin-top:10px;
  gap:10px;
  flex-wrap:wrap;
  opacity:1;
  transition:0.5s;
}
.controls.hide{opacity:0;}
.control-btn{
  background:linear-gradient(135deg,#ff0000,#00ff00);
  border:none;
  border-radius:50px;
  padding:10px 18px;
  color:#fff;
  font-weight:700;
  cursor:pointer;
  box-shadow:0 0 15px #ff0000,0 0 15px #00ff00 inset;
  transition:0.3s;
  animation:pulse 2s infinite;
}
.control-btn:hover{transform:scale(1.1);}

/* ===== Join Telegram ===== */
.join{
  margin:20px;
  background:linear-gradient(90deg,#ff0000,#00ff00);
  padding:14px;
  text-align:center;
  border-radius:12px;
  font-weight:700;
}
.join a{color:#000;text-decoration:none;display:block;}

/* ===== Responsive ===== */
@media(max-width:600px){
  .player-box video, .player-box iframe{height:220px;}
  .match-name{font-size:20px; max-width:280px;}
  .btn-match{width:95%;}
  .control-btn{padding:8px 14px; font-size:14px;}
}
</style>
</head>
<body>

<div class="header">MN NAIM MULTI LIVE</div>

<!-- 1Ô∏è‚É£ Index Section -->
<div id="indexSection" class="section">
  <h3>Select a Match</h3>
  <div class="match-list">
    <button class="btn-match" onclick="openMatch('BAN vs IND','https://bd-mc-fdlive.fancode.com/mumbai/139222_english_hls_e5da087ff762368_1ta-di_h264/1080p.m3u8')">BAN vs IND</button>
    <button class="btn-match" onclick="openMatch('AUS vs ENG','https://bd-mc-fdlive.fancode.com/mumbai/139223_english_hls_abc123/1080p.m3u8')">AUS vs ENG</button>
    <button class="btn-match" onclick="openMatch('IND vs PAK','https://bd-mc-fdlive.fancode.com/mumbai/139224_english_hls_xyz456/1080p.m3u8')">IND vs PAK</button>
  </div>
  <input id="customLink" class="input-box" placeholder="Paste m3u8/embed link here">
  <input id="customName" class="input-box" placeholder="Custom Match Name">
  <button class="btn-match" onclick="openCustom()">Play Custom Link</button>
</div>

<!-- 2Ô∏è‚É£ Match Section -->
<div id="matchSection" class="section">
  <div class="match-name" id="matchName">Loading Match...</div>
  <div class="player-box" id="player">
    <div class="spinner" id="spinner"></div>
  </div>

  <!-- Controls -->
  <div class="controls" id="controls">
    <button class="control-btn" onclick="togglePlay()">‚ñ∂/‚è∏</button>
    <button class="control-btn" onclick="toggleMute()">üîä</button>
    <button class="control-btn" onclick="toggleFullscreen()">‚õ∂</button>
    <button class="control-btn" onclick="changeSpeed()">1x</button>
    <button class="control-btn" onclick="pip()">PiP</button>
    <button class="control-btn" onclick="changeQuality()">Quality</button>
  </div>

  <div class="join">
    üîî <a href="https://t.me/ClipByNaim" target="_blank">Join Telegram for Live Match Links</a>
  </div>

  <input id="link" class="hidden">
</div>

<script>
const indexSection = document.getElementById('indexSection');
const matchSection = document.getElementById('matchSection');
const playerBox = document.getElementById('player');
const matchName = document.getElementById('matchName');
const spinner = document.getElementById('spinner');
const controls = document.getElementById('controls');

let videoEl=null;
let hls=null;
let playbackRates=[0.5,1,1.5,2];
let currentRate=1;
let qualities=["360p","720p","1080p"];
let currentQuality=2; // default 1080p

/* ===== Sections ===== */
function showSection(section){
  if(section==='index'){indexSection.style.display='block'; matchSection.style.display='none';}
  else{indexSection.style.display='none'; matchSection.style.display='block';}
}

/* ===== Player ===== */
function loadPlayer(url){
  playerBox.innerHTML=""; playerBox.appendChild(spinner);
  spinner.style.display="block";
  videoEl=document.createElement("video");
  videoEl.controls=false; videoEl.autoplay=true; videoEl.playsInline=true;
  videoEl.style.width="100%"; videoEl.style.height="300px";
  playerBox.appendChild(videoEl);

  videoEl.onplay = () => hideControlsAuto();
  videoEl.onpause = () => showControls();

  if(url.includes(".m3u8")){
    if(Hls.isSupported()){
      hls=new Hls();
      hls.loadSource(url);
      hls.attachMedia(videoEl);
      hls.on(Hls.Events.MANIFEST_PARSED,()=>{videoEl.play(); spinner.style.display="none";});
      hls.on(Hls.Events.FRAG_LOADING,()=>{spinner.style.display="block";});
      hls.on(Hls.Events.FRAG_LOADED,()=>{spinner.style.display="none";});
    }else{videoEl.src=url; spinner.style.display="none";}
  }else{
    let iframe=document.createElement("iframe");
    iframe.src=url; iframe.allow="autoplay; fullscreen";
    playerBox.innerHTML=""; playerBox.appendChild(iframe); spinner.style.display="none";
  }
}

/* ===== Controls ===== */
function togglePlay(){if(videoEl) videoEl.paused?videoEl.play():videoEl.pause();}
function toggleMute(){if(videoEl) videoEl.muted=!videoEl.muted;}
function toggleFullscreen(){if(videoEl) videoEl.requestFullscreen();}
function changeSpeed(){
  if(videoEl){let idx=playbackRates.indexOf(currentRate); idx=(idx+1)%playbackRates.length; currentRate=playbackRates[idx]; videoEl.playbackRate=currentRate; alert("Speed: "+currentRate+"x");}
}
function pip(){if(videoEl && document.pictureInPictureEnabled) videoEl.requestPictureInPicture();}
function changeQuality(){if(!hls)return alert("No HLS stream"); currentQuality=(currentQuality+1)%qualities.length; alert("Quality set to "+qualities[currentQuality]);}

/* ===== Auto-hide Controls ===== */
let controlTimeout;
function hideControlsAuto(){controls.classList.add('hide'); clearTimeout(controlTimeout); controlTimeout=setTimeout(()=>controls.classList.remove('hide'),3000);}
function showControls(){controls.classList.remove('hide');}

/* ===== Match Functions ===== */
function openMatch(name,url){showSection('match'); matchName.innerText=name; document.getElementById('link').value=url; loadPlayer(url);}
function openCustom(){const url=document.getElementById('customLink').value; const name=document.getElementById('customName').value||"Custom Match"; if(!url){alert("Enter link!"); return;} showSection('match'); matchName.innerText=name; document.getElementById('link').value=url; loadPlayer(url);}

/* ===== Auto-play via URL ===== */
window.onload=function(){
  const params=new URLSearchParams(window.location.search);
  const src=params.get("src"); const name=params.get("name");
  if(src){showSection('match'); document.getElementById('link').value=src; matchName.innerText=name||"Live Match"; loadPlayer(src);}
  else{showSection('index');}

  // Generate floating particles
  for(let i=0;i<50;i++){
    let p=document.createElement('div'); p.classList.add('particle');
    p.style.top=Math.random()*window.innerHeight+'px';
    p.style.left=Math.random()*window.innerWidth+'px';
    p.style.backgroundColor=Math.random()>0.5?'#ff0000':'#00ff00';
    p.style.width=p.style.height=(Math.random()*4+2)+'px';
    p.style.animationDuration=(Math.random()*10+5)+'s';
    document.body.appendChild(p);
  }
}
</script>
</body>
</html>
